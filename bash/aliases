#!/bin/bash

# Meta
alias aliases="less $BASH_SOURCE"
alias l_hist="history | less"
alias ll="ls -FGalh"
alias ls="ls -FGh"
alias cp="cp -iv"
alias mv="mv -iv"
alias rm="rm -iv"
alias du="du -cksh"
alias df="df -h"

alias sed="sed -E" # Use modern regex for sed

alias \$=''
alias dotfiles="cd ~/code/dotfiles/"

# cd into last listed item of pwd
alias cdl="cd $(ls | awk 'END{print $NF}')"

# Docker

alias dp='docker ps'
alias dpa='docker ps -a'
alias di='docker images'
alias dia='docker images -a'
alias dv='docker volume ls'
alias dva='docker volume ls'
alias drm='docker rm $(docker ps -a -q)'
alias drmi='docker rmi $(docker images -f "dangling=true" -q)'
alias drmv='docker volume rm $(docker volume ls -f "dangling=true" -q)'

alias dc='docker-compose'
alias dcr='docker-compose run --rm'
alias dce='docker-compose exec'
alias dcb='docker-compose build --force-rm --pull'
alias dcu='docker-compose up -d --remove-orphans'
alias dcd='docker-compose down --remove-orphans'
alias dcp='docker-compose ps'
alias dcs='docker-compose start'
alias dcst='docker-compose stop'
alias dcl='docker-compose logs -f'
alias dcla='docker-compose logs -f --tail="all"'

# Finder
alias showFiles='defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app'
alias hideFiles='defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app'

# SSH
alias ec2log="ssh -i $ec2keypath $ec2user" # logs in via ssh to amazon aws instance

# starts ssh agent and adds key, for use before working with git remote repository
alias startssh="ssh-agent -s | ssh-add $gitkeypath | ssh-add $ec2keypath"

# RabbitMQ
# Restarts rabbitmq and deletes all queues, exchanges, etc. Make sure you want to do this
alias rmqrl="brew services restart rabbitmq"

# MYSQL
# Restarts rabbitmq and deletes all queues, exchanges, etc. Make sure you want to do this
alias mysqlrl="brew services restart mysql"

# PostgreSQL
alias start_postgres="launchctl load -w ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist"
alias stop_postgres="launchctl unload -w ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist"
